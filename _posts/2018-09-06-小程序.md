---
layout: post
title: "webpack打包之后压缩方法"
date: 2018-09-14 18:15:06 
description: "前端项目打包后压缩"
tag: webpack 压缩
---

  最近公司的硬件设备需要在无网络的情况下，能够打开网页激活设备；所以需要前端+ubus结合做设备激活的项目。然而打包之后dist包有14M，设备端容量太小影响了其他功能，需要我尽量压缩到最小。于是我开始上网查找压缩的方法，总结如下：
 
### 1、将生产环境devtool 中的 source-map关掉
  前端项目用webpack打包之后的文件会莫名其妙的增加了好几个xxxx.css.map、xxx.js.map，并且比.css/.js大了4-10多倍；这些文件都是 source-map 的问题，source map 在开发调试的时候确实是好用，但也只是开发的时候，生产环境没多大必要去用这个了，所以生产环境的devtool可以关掉source-map，即：在项目的config/index.js下，build：{productionSourceMap: false}，这样项目会至少少了10MB的大小
  
### 2、压缩, 去除注释
  在项目的build/webpack.prod.conf.js下，plugins: [new UglifyJsPlugin({
      parallel: 4,
      uglifyOptions: {
        output: {
          comments: false,
          beautify: false,
        },
        compress: {
          warnings: false
        },
      },
      cache: true,
    }),]
